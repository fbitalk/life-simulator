{% extends "base.html" %}

{% block title %}ç¼–è¾‘æˆå°± - {{ achievement.name }}{% endblock %}

{% block breadcrumb %}
<span class="breadcrumb-sep">/</span>
<a href="{{ url_for('achievements_list') }}">æˆå°±ç®¡ç†</a>
<span class="breadcrumb-sep">/</span>
<span>{{ achievement.name }}</span>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ achievement.icon }} ç¼–è¾‘æˆå°±</h1>
    <p class="subtitle">{{ achievement.name }}</p>
</div>

<form class="event-form" method="post">
    <div class="form-section">
        <h2>åŸºæœ¬ä¿¡æ¯</h2>

        <div class="form-row">
            <div class="form-group">
                <label for="id">æˆå°±ID *</label>
                <input type="text" id="id" name="id" value="{{ achievement.id }}" required>
                <p class="form-hint">å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè‹±æ–‡å­—æ¯åŠ ä¸‹åˆ’çº¿</p>
            </div>
            <div class="form-group">
                <label for="icon">å›¾æ ‡ (Emoji)</label>
                <input type="text" id="icon" name="icon" value="{{ achievement.icon }}" style="font-size: 1.5rem;">
            </div>
        </div>

        <div class="form-group">
            <label for="name">æˆå°±åç§° *</label>
            <input type="text" id="name" name="name" value="{{ achievement.name }}" required>
        </div>

        <div class="form-group">
            <label for="description">æˆå°±æè¿°</label>
            <textarea id="description" name="description" rows="2">{{ achievement.description }}</textarea>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="stars">æ˜Ÿçº§</label>
                <input type="number" id="stars" name="stars" value="{{ achievement.stars|default(1) }}" min="1" max="5">
            </div>
            <div class="form-group form-checkbox">
                <label>
                    <input type="checkbox" name="golden" {% if achievement.golden %}checked{% endif %}>
                    é‡‘è‰²æˆå°±
                </label>
                <p class="form-hint">é‡‘è‰²æˆå°±ä¼šåœ¨UIä¸­ç‰¹æ®Šæ˜¾ç¤º</p>
            </div>
        </div>
    </div>

    <div class="form-section">
        <h2>è§¦å‘æ¡ä»¶</h2>

        <div class="form-group">
            <label for="tag">å…³è”æ ‡ç­¾ (tag)</label>
            <input type="text" id="tag" name="tag" value="{{ achievement.tag }}" placeholder="è·å¾—æ­¤æ ‡ç­¾æ—¶è§£é”æˆå°±">
            <p class="form-hint">å½“ç©å®¶è·å¾—æŒ‡å®šæ ‡ç­¾æ—¶ï¼Œè‡ªåŠ¨è§£é”æ­¤æˆå°±</p>
        </div>

        <div class="form-group">
            <label for="condition">ç‰¹æ®Šæ¡ä»¶ (condition)</label>
            <input type="text" id="condition" name="condition"
                value="{{ achievement.condition if achievement.condition else '' }}" placeholder="å¦‚: age_100">
            <p class="form-hint">ç‰¹æ®Šè§£é”æ¡ä»¶ï¼Œå¦‚ age_100 è¡¨ç¤ºæ´»åˆ°100å²</p>
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary btn-large">ğŸ’¾ ä¿å­˜æˆå°±</button>
        <a href="{{ url_for('achievements_list') }}" class="btn btn-secondary">å–æ¶ˆ</a>
    </div>
</form>

<details class="raw-data-section">
    <summary>ğŸ“‹ åŸå§‹æ•°æ® (JSON)</summary>
    <pre class="raw-json">{{ achievement|tojson(indent=2) }}</pre>
</details>
{% endblock %}
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>äººç”Ÿæ¨¡æ‹Ÿå™¨</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- èƒŒæ™¯åŠ¨ç”» -->
    <div class="bg-animation">
        <div class="floating-shape" style="width: 200px; height: 200px; top: 10%; left: 10%;"></div>
        <div class="floating-shape" style="width: 150px; height: 150px; top: 60%; right: 10%; animation-delay: -5s;">
        </div>
        <div class="floating-shape" style="width: 100px; height: 100px; bottom: 10%; left: 50%; animation-delay: -10s;">
        </div>
        <div class="floating-shape" style="width: 80px; height: 80px; top: 40%; right: 30%; animation-delay: -15s;">
        </div>
    </div>

    <!-- Theme Selector -->
    <div class="theme-selector">
        <div class="theme-toggle" id="themeToggle" title="åˆ‡æ¢ä¸»é¢˜">
            <span id="themeIcon">ğŸŒ“</span>
        </div>
    </div>

    <!-- æ¸¸æˆå®¹å™¨ -->
    <div class="game-container">
        <!-- ä¸»èœå• -->
        <div class="main-menu" id="mainMenu">
            <h1 class="game-title">äººç”Ÿæ¨¡æ‹Ÿå™¨</h1>
            <p class="game-description">
                ä½“éªŒä¸åŒçš„äººç”Ÿé€‰æ‹©ï¼Œæ”¶é›†æˆå°±æ ‡ç­¾ï¼Œ<br>
                ä¹¦å†™å±äºä½ çš„ç‹¬ç‰¹äººç”Ÿæ•…äº‹ï¼
            </p>
            <div class="menu-buttons">
                <button class="menu-btn" id="btnNewLife">
                    <span class="icon">ğŸ­</span>æ–°çš„äººç”Ÿ
                </button>
                <button class="menu-btn" id="btnReplay">
                    <span class="icon">ğŸª¦</span>å¢“åœ°
                </button>
                <button class="menu-btn" id="btnAchievements">
                    <span class="icon">ğŸ†</span>æˆå°±
                </button>
                <button class="menu-btn" id="btnClearTags">
                    <span class="icon">ğŸ§¼</span>æ¸…é™¤è®°å¿†
                </button>
                <button class="menu-btn" id="btnResetGame">
                    <span class="icon">ğŸ”„</span>é‡ç½®æ¸¸æˆ
                </button>
            </div>
        </div>

        <!-- è§’è‰²åˆ›å»ºç•Œé¢ -->
        <div class="character-creation" id="characterCreation">
            <button class="back-btn" id="btnBackFromCreation">â†</button>
            <h2 class="creation-title">åˆ›å»ºæ–°çš„äººç”Ÿ</h2>

            <div class="gender-selection">
                <div class="gender-card" data-gender="male">
                    <div class="gender-icon">ğŸ‘¦</div>
                    <div>ç”·æ€§</div>
                </div>
                <div class="gender-card" data-gender="female">
                    <div class="gender-icon">ğŸ‘§</div>
                    <div>å¥³æ€§</div>
                </div>
            </div>

            <div class="name-input-container">
                <input type="text" class="name-input" id="playerName" placeholder="è¯·è¾“å…¥ä½ çš„åå­—" maxlength="10">
            </div>

            <div style="text-align: center;">
                <button class="btn" id="startLifeBtn" disabled>å¼€å§‹äººç”Ÿ</button>
            </div>
        </div>

        <!-- æˆå°±ç•Œé¢ -->
        <div class="achievements-screen" id="achievementsScreen" style="display: none;">
            <button class="back-btn" id="btnBackFromAchievements">â†</button>
            <h2 style="text-align: center; color: #667eea; margin-bottom: 10px;">æˆå°±ç³»ç»Ÿ</h2>
            <div class="achievements-container">
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- æˆå°±å¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>

        <!-- å†ç°äººç”Ÿç•Œé¢ -->
        <div class="replay-screen" id="replayScreen">
            <button class="back-btn" id="btnBackFromReplay">â†</button>
            <h2 style="text-align: center; color: #667eea; margin-bottom: 20px;">å¢“åœ° (äººç”Ÿå›é¡¾)</h2>
            <div class="saved-lives-list" id="savedLivesList">
                <!-- ä¿å­˜çš„äººç”Ÿè®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>

        <!-- äººç”Ÿè¯¦æƒ…é¡µé¢ -->
        <div class="life-details-screen" id="lifeDetailsScreen">
            <button class="back-btn" id="btnBackFromDetails">â†</button>
            <h2 id="lifeDetailsTitle" style="color: #667eea; margin-bottom: 20px; text-align: center;">äººç”Ÿå›é¡¾</h2>
            <div id="lifeDetailsSummary" style="margin-bottom: 20px; line-height: 1.6;">
                <p><strong>å§“å:</strong> <span id="lifeDetailsName"></span></p>
                <p><strong>æ€§åˆ«:</strong> <span id="lifeDetailsGender"></span></p>
                <p><strong>ç»ˆå¹´:</strong> <span id="lifeDetailsAge"></span></p>
                <p><strong>èƒŒæ™¯:</strong> <span id="lifeDetailsBackground"></span></p>
                <p><strong>æ­»å› :</strong> <span id="lifeDetailsDeathReason"></span></p>
            </div>

            <!-- æ ‡ç­¾æ˜¾ç¤ºä¸ºç‹¬ç«‹æ¡†æ¶ -->
            <div class="replay-tags-container">
                <h3 style="margin-bottom: 10px; color: #667eea; text-align: center;">äººç”Ÿæ ‡ç­¾</h3>
                <div class="tags-box" id="lifeDetailsTags"></div>
            </div>

            <div id="lifeDetailsHistoryContainer" class="history-container">
                <h3 style="margin-bottom: 10px; color: #667eea; text-align: center;">äººç”Ÿäº‹ä»¶</h3>
                <div id="lifeDetailsHistoryList"></div>
            </div>

            <!-- æ·»åŠ ä¸€ä¸ªåº•éƒ¨çš„è¿”å›æŒ‰é’®ï¼Œä¾¿äºç§»åŠ¨ç«¯ç”¨æˆ·æ“ä½œ -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 20px;">
                <button class="btn" id="btnBackFromDetailsBottom">è¿”å›åˆ—è¡¨</button>
            </div>
        </div>

        <!-- å¼€å§‹ç•Œé¢ (æ—§çš„ï¼Œç°åœ¨éšè—) -->
        <div class="start-screen" id="startScreen">
            <h1 class="game-title">äººç”Ÿæ¨¡æ‹Ÿå™¨</h1>
            <p class="game-description">
                ä½“éªŒä¸åŒçš„äººç”Ÿé€‰æ‹©ï¼Œæ”¶é›†å„ç§æ ‡ç­¾ï¼Œ<br>
                çœ‹çœ‹ä½ èƒ½æ´»åˆ°å¤šå°‘å²ï¼
            </p>
            <div class="features">
                <div class="feature-item">ğŸ² éšæœºå‡ºèº«èƒŒæ™¯ï¼Œæ¯æ¬¡éƒ½æœ‰ä¸åŒçš„å¼€å±€</div>
                <div class="feature-item">ğŸ·ï¸ ä¸°å¯Œçš„æ ‡ç­¾ç³»ç»Ÿï¼Œå±•ç°ç‹¬ç‰¹äººç”Ÿ</div>
                <div class="feature-item">ğŸ“– åŸºäºæ ‡ç­¾çš„äº‹ä»¶è§¦å‘æœºåˆ¶</div>
                <div class="feature-item">ğŸ”— è¿ç»­äº‹ä»¶ç³»ç»Ÿï¼Œé€‰æ‹©å½±å“æ·±è¿œ</div>
                <div class="feature-item">âš ï¸ é£é™©ä¸æœºé‡å¹¶å­˜çš„äººç”ŸæŠ‰æ‹©</div>
            </div>
            <button class="btn" id="btnStartGame">å¼€å§‹æ–°çš„äººç”Ÿ</button>
        </div>

        <!-- æ¸¸æˆç•Œé¢ -->
        <div class="game-screen" id="gameScreen">
            <div class="event-interface">
                <!-- ä¸ŠåŠéƒ¨åˆ† -->
                <div class="event-history-section">
                    <!-- å·¦ä¾§æ˜¾ç¤ºäº‹ä»¶å†å²è®°å½• -->
                    <div class="event-history" id="eventHistory">
                        <!-- äº‹ä»¶ç»“æœä¼šåœ¨è¿™é‡ŒåŠ¨æ€æ˜¾ç¤º -->
                    </div>

                    <!-- å³ä¾§æ˜¾ç¤ºä¸ªäººä¿¡æ¯å’Œæ ‡ç­¾ -->
                    <div class="character-info">
                        <div class="character-header">
                            <div class="player-name" id="playerNameDisplay">ç©å®¶</div>
                            <div class="age-display" id="ageDisplay">0å²</div>
                        </div>
                        <div class="tags-scroll-container">
                            <div class="tags-container" id="tagsContainer"></div>
                        </div>
                    </div>
                </div>

                <!-- ä¸‹åŠéƒ¨åˆ†ï¼šå½“å‰äº‹ä»¶ -->
                <div class="current-event-section" id="eventContainer">
                    <!-- äº‹ä»¶å¡ç‰‡æˆ–ç»“æœä¼šåŠ¨æ€æ’å…¥è¿™é‡Œ -->
                </div>
            </div>
        </div>

        <!-- æ¸¸æˆç»“æŸç•Œé¢ -->
        <div class="gameover-screen" id="gameoverScreen">
            <h2 style="color: #667eea; margin-bottom: 20px;">æ¸¸æˆç»“æŸ</h2>
            <div class="final-age" id="finalAge">0å²</div>
            <div class="death-reason" id="deathReason"></div>

            <div class="final-tags">
                <h3 style="margin-bottom: 15px; color: #667eea;">äººç”Ÿæ ‡ç­¾</h3>
                <div class="tags-box" id="finalTags"></div>
            </div>

            <div class="history-container">
                <h3 style="margin-bottom: 15px; color: #667eea;">äººç”Ÿå›é¡¾</h3>
                <div id="historyList"></div>
            </div>

            <div class="gameover-buttons">
                <button class="btn" id="btnReturnToMenu">ä¸»èœå•</button>
                <button class="btn" id="btnNewLifeGameOver">æ–°çš„äººç”Ÿ</button>
                <button class="btn" id="btnBurial">ä¸‹è‘¬</button>
            </div>
        </div>

        <!-- åŠ è½½åŠ¨ç”» -->
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- é‡‘è‰²æˆå°±ç‰¹æ•ˆå®¹å™¨ -->
    <div id="goldenAchievementEffect"></div>

    <!-- å¼•å…¥è„šæœ¬æ–‡ä»¶ -->
    <script src="js/modules/DataManager.js"></script>
    <script src="js/modules/constants.js"></script>
    <script src="js/events/startEvents.js"></script>
    <script src="js/events/commonEvents.js"></script>
    <script src="js/events/purpleEvents.js"></script>
    <script src="js/events/blackEvents.js"></script>
    <script src="js/events/redEvents.js"></script>
    <script src="js/events/pinkEvents.js"></script>
    <script src="js/events/goldEvents.js"></script>
    <script src="js/events/maleEvents.js"></script>
    <script src="js/events/femaleEvents.js"></script>
    <script src="js/events/ageEvents.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/eventManager.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui-effects.js"></script>

    <script>
        // æ·»åŠ DOMåŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            // åˆå§‹åŒ–æ¸¸æˆå®ä¾‹
            window.game = new LifeSimulatorGame();

            // åˆå§‹åŒ–æ—¶éšè—æ‰€æœ‰ç•Œé¢
            document.getElementById('characterCreation').style.display = 'none';
            document.getElementById('achievementsScreen').style.display = 'none';
            document.getElementById('replayScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('gameoverScreen').style.display = 'none';
            document.getElementById('lifeDetailsScreen').style.display = 'none';
            // åªæ˜¾ç¤ºä¸»èœå•
            document.getElementById('mainMenu').style.display = 'block';
        });
    </script>
</body>

</html>